# v1.0.12 发行说明

## 新功能

### 首页仪表盘

- **域名总数统计**：首页新增域名总数统计卡片，直观展示所有账户下的域名数量
- **最近访问域名**：首页显示最近访问的域名快捷入口，支持一键跳转管理

### 域名管理优化

- **域名缓存机制**：实现按账户的域名缓存，支持后台静默刷新，大幅提升页面加载速度
- **分页加载**：域名列表支持分页和"加载更多"功能，优化大量域名场景的性能
- **Unknown 状态**：新增域名 Unknown 状态类型，更准确地处理各 DNS 服务商返回的未知状态

### 导航架构重构

- **多页面架构**：从单页面重构为多页面路由架构，新增主页、域名列表页、DNS 记录详情页
- **域名选择器**：新增按账户分组的域名选择页面，支持搜索和筛选
- **侧边栏优化**：简化导航逻辑，桌面端支持折叠/展开

## 改进

### 错误处理系统重构

- **统一错误类型**：后端错误从字符串统一转换为 DnsError 枚举类型，支持结构化错误信息
- **错误国际化**：前端支持根据错误类型显示本地化的友好提示
- **凭证失效检测**：凭证失效时自动标记账户状态为错误状态

### 代码质量提升

- **类型安全**：创建类型安全的 Tauri invoke 包装器，统一管理所有命令的类型定义
- **错误边界**：添加 ErrorBoundary 组件，为应用、页面和组件级别提供错误保护
- **常量集中管理**：提取分页、时间、DNS、网络等配置常量到独立文件
- **Rust 代码优化**：统一使用内插字符串语法，使用 `map_or` 简化代码

### 组件重构

- **DNS 表格拆分**：将工具栏、批量操作栏和排序逻辑提取为独立组件
- **组件初始化优化**：移除不必要的 useEffect 依赖，避免重复数据获取

## 修复

- 修复 CAA 记录值处理，使用 `String::from_utf8_lossy` 避免无效 UTF-8 导致的崩溃
- 修复 UI 样式问题，统一 Tailwind CSS 排序
- 修复 `parseInt` 缺少基数参数的类型安全问题

## CI/CD

- **iOS TestFlight**：新增 iOS TestFlight 发布流程，扩展应用发布渠道
- **工作流重构**：将发布作业拆分为平台特定作业，提高模块化程度

## 升级说明

从 v1.0.11 升级无需额外操作，直接安装新版本即可。域名缓存会在首次启动后自动建立。
